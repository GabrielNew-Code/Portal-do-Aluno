<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Caterinha Validada</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Css -->
    <link href="../../dashboard-novo/css/carteirinha.valid.css" rel="stylesheet" type="text/css">

    <link href="../../dashboard-novo/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <script type="text/javascript" class="flasher-js">
        (function() {
            var rootScript = '../../../cdn.jsdelivr.net/npm/@flasher/flasher@1.3.1/dist/flasher.min.js';
            var FLASHER_FLASH_BAG_PLACE_HOLDER = {};
            var options = mergeOptions([], FLASHER_FLASH_BAG_PLACE_HOLDER);
            function mergeOptions(first, second) {
                return {
                    context: merge(first.context || {}, second.context || {}),
                    envelopes: merge(first.envelopes || [], second.envelopes || []),
                    options: merge(first.options || {}, second.options || {}),
                    scripts: merge(first.scripts || [], second.scripts || []),
                    styles: merge(first.styles || [], second.styles || []),
                };
            }
            function merge(first, second) {
                if (Array.isArray(first) && Array.isArray(second)) {
                    return first.concat(second).filter(function(item, index, array) {
                        return array.indexOf(item) === index;
                    });
                }
                return Object.assign({}, first, second);
            }
            function renderOptions(options) {
                if (!window.hasOwnProperty('flasher')) {
                    console.error('Flasher is not loaded');
                    return;
                }
                requestAnimationFrame(function () {
                    window.flasher.render(options);
                });
            }
            function render(options) {
                if ('loading' !== document.readyState) {
                    renderOptions(options);
                    return;
                }
                document.addEventListener('DOMContentLoaded', function() {
                    renderOptions(options);
                });
            }
            if (1 === document.querySelectorAll('script.flasher-js').length) {
                document.addEventListener('flasher:render', function (event) {
                    render(event.detail);
                });
            }
            if (window.hasOwnProperty('flasher') || !rootScript || document.querySelector('script[src="' + rootScript + '"]')) {
                render(options);
            } else {
                var tag = document.createElement('script');
                tag.setAttribute('src', rootScript);
                tag.setAttribute('type', 'text/javascript');
                tag.onload = function () {
                    render(options);
                };
                document.head.appendChild(tag);
            }
        })();
    </script>

    <style>
        b {
            font-weight: 800;
        }
    </style>

</head>

<body>
    <img src="../../dashboard-novo/images/unifenas/logo_white.svg" alt="Logo" class="logo">
    <hr>

    <div id="overlay" style="display: none;"></div> <!-- Fundo escuro -->

    <div id="sucesso-message" style="display: none;">
        <div id="sucesso-message-inner">
            <div id="loading-spinner" class="spinner" style="display: none;"></div>
            <i id="sucesso-icon" class="fa-solid fa-square-check"></i>
            <p id="carregando-text">Carregando...</p>  <!-- Exibe "Carregando..." inicialmente -->
            <p id="sucesso-text" style="display: none;">Autenticado com sucesso!</p>  <!-- Exibe "Autenticado com sucesso!" após a troca -->
        </div>
    </div>

    <div class="container">
        <div class="carteirinha front">
            <div class="conteudo">
                <div class="user">
                    <div class="user-img" onclick="event.stopPropagation(); mostramodal();">
                        <img id="previewImage" src="../../aluno/200225251/IMG_Aluno.jpg" alt="Foto do usuário">
                    </div>
                </div>
                <div class="info-aluno">
                    <div class="nome-aluno">
                        <span><b>LUIZ FELIPE RODRIGUES PENA</b></span>
                    </div>
                    <div class="curso-aluno">
                        <span><b>CIÊNCIA DA COMPUTAÇÃO</b></span>
                    </div>
                    <div class="mat-val-campus">
                        <div class="matricula">
                            <span><b>Matrícula:</b></span>
                            <span><b>200225251</b></span>
                        </div>
                        <div class="validade">
                            <span><b>Validade:</b></span>
                            <span><b>31/07/2025</b></span>
                        </div>
                        <div class="campus">
                            <span><b>Campus:</b></span>
                            <span><b>ALFENAS</b></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../../../code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        function mostrarMensagemSucesso() {
            // Exibe o fundo escuro e o ícone de carregamento
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('loading-spinner').style.display = 'block';
            document.getElementById('sucesso-icon').style.display = 'none';
            document.getElementById('carregando-text').style.display = 'block';  // Exibe "Carregando..."
            document.getElementById('sucesso-text').style.display = 'none';  // Esconde "Autenticado com sucesso!"

            // Exibe a mensagem de sucesso
            document.getElementById('sucesso-message').style.display = 'block';

            // Após 1 segundo, troca para o ícone de sucesso e a mensagem
            setTimeout(function() {
                document.getElementById('loading-spinner').style.display = 'none';
                document.getElementById('sucesso-icon').style.display = 'block';
                document.getElementById('carregando-text').style.display = 'none';  // Esconde "Carregando..."
                document.getElementById('sucesso-text').style.display = 'block';  // Exibe "Autenticado com sucesso!"
            }, 500);  // Ajuste o tempo conforme necessário

            // Após 3 segundos, esconde a mensagem e o fundo
            setTimeout(function() {
                document.getElementById('sucesso-message').style.display = 'none';
                document.getElementById('overlay').style.display = 'none';
            }, 1000);  // Tempo total de exibição da mensagem
        }

        // Chama a função para mostrar a mensagem de sucesso
        mostrarMensagemSucesso();
    </script>

</body>

</html>
